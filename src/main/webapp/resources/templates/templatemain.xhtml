<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <h:head>
        <meta charset="utf-8" />
        <h:outputStylesheet library="css" name="globalStyleSheet.css"/> 
        <title><ui:insert name="title">SUMS: MSc Project Ideas</ui:insert></title>
    </h:head>

    <h:body>
        <b:navBar brand="Project Ideas for MSc" brand-href="/ProjectIdeas/" inverse="true" fixed="top">
            <b:navbarLinks>

                <b:dropMenu value="Project Ideas">
                    <h:form>
                        <h:commandLink value="New Project Idea" action="#{projectController.goAndCreateNewProject()}" rendered="#{usersController.users.id != null}"></h:commandLink>
                    </h:form>
                    <b:navLink value="View All Projects" href="/ProjectIdeas/faces/project/viewallprojects.xhtml" ></b:navLink>
                </b:dropMenu>

                <b:dropMenu value="Organisations">
                    <h:form>
                        <h:commandLink value="New Organisation" action="#{organisationController.goToCreateNewOrganisationPage()}" rendered="#{usersController.users.id != null}"></h:commandLink>
                    </h:form>
                    <b:navLink value="View All Organisation" href="/ProjectIdeas/faces/organisation/listoforganisation.xhtml" ></b:navLink>                            
                </b:dropMenu>
                <b:navLink value="List of Users" href="/ProjectIdeas/faces/Users/listofUsers.xhtml" rendered="#{usersController.users.typeOfUser == 'Admin'}" ></b:navLink>                        

            </b:navbarLinks>

            <h:form styleClass="navbar-form navbar-right">
                <b:commandButton action ="#{usersController.goToLogInPage()}" value="Login" rendered="#{usersController.users.id == null}">
                    <f:param name="id" value="#{usersController.users.id}"/>
                </b:commandButton>
            </h:form>   

            <h:form styleClass="navbar-form navbar-right">
                <b:commandButton action="#{usersController.logout()}" value= "Logout" rendered="#{usersController.users.id != null}">
                    <f:param name="id" value="#{usersController.users.id}"/>
                </b:commandButton>
            </h:form> 

            <h:form styleClass="navbar-form navbar-right">
                <b:commandButton action="#{usersController.goToRegisterPage()}" rendered="#{usersController.users.id == null}" value= "Sign up">
                    <f:param name="id" value="#{usersController.users.id}"/>
                </b:commandButton>
            </h:form>                     

        </b:navBar> 
        <div>
            <div>                    
                <ui:insert name="content">Main Content of the page</ui:insert>
            </div>
        </div>

        <div id="footer">
            <ui:insert name="footer" >
                <ui:include src="templatefooter.xhtml" />
            </ui:insert>
        </div>

    </h:body>
</html>